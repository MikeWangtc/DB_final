dbrp "['T']_U6CbRc2nA3D5YfvNjXiy5J"."autogen"
var data = stream
    |from()
        .measurement('['M']')
    |window()
        .period(10s)
        .every(10s)

data
    @tTest()
        // specify the hotend field
        .field('['F']')
        // Keep a 1h rolling window
        .size(3600)
    |alert()
        .id('['F']')
        .crit(lambda: 0 < 100)
        .log('/tmp/kapacitor_udf/['T']_U6CbRc2nA3D5YfvNjXiy5J_failure.log')
        |influxDBOut()
            .database('['D']')
            .retentionPolicy('autogen')
            .measurement('['T']_U6CbRc2nA3D5YfvNjXiy5J_alert')
    
data
    |influxDBOut()
        .create()
        .database('['D']')
        .retentionPolicy('autogen')
        .measurement('['T']_U6CbRc2nA3D5YfvNjXiy5J')
        .tag('hotend', 'a')
        .tag('bed', 'b')
        .tag('air', 'c')

